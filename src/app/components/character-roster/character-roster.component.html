<div
  class="character-roster-container d-flex flex-column justify-content-center"
>
  <div class="d-none d-sm-flex flex-row justify-content-between w-50 m-auto">
    <img class="chain" src="/img/chain.png" />
    <img class="chain" src="/img/chain.png" />
  </div>
  <div
    class="d-flex flex-column align-items-center roster-header w-100 align-self-center py-3 py-sm-2"
  >
    <h1 class="text-center p-2">Character Roster</h1>
    <div class="d-flex flex-column flex-sm-row justify-content-between w-100">
      <!--search, sort, filters-->
      <div
        class="d-flex flex-row justify-content-center justify-content-sm-start my-3 mx-0 mx-sm-3"
      >
        <!--filter by button that opens modal-->
        <div class="mt-auto search-bar">
          <input
            type="search"
            name="characterSearchBar"
            id="characterSearchBar"
            type="search"
            placeholder="Find a hero..."
            (keyup)="searchCharacterRoster(filter.value)"
            #filter
            data-bs-toggle="tooltip"
            data-bs-placement="bottom"
            title="Search by name, class, species, or background"
          />
        </div>
        <!--sort by button-->
      </div>
      <!--add characters-->
      <div class="d-flex flex-row align-self-end text-center my-3 my-sm-0 me-4">
        @if (filteredCharacterList$.length > 0){ }
        <a
          class="text-decoration-none"
          routerLink="/create-a-character"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Add Character"
        >
          <img src="/img/document-sealed.png" />
          <span class="add-character">+</span>
          <span class="d-none d-sm-block">Add</span>
        </a>
      </div>
    </div>
  </div>

  <!--list of characters-->
  @if (filteredCharacterList$ && filteredCharacterList$.length > 0){
  <!--no characters-->
  @if (filteredCharacterList$.length == 0){ Your roster is empty... click here
  to create a character}
  <section
    name="character-list"
    class="character-list d-flex flex-column align-items-center"
  >
    @for(c of filteredCharacterList$; track c;){
    <div class="parchment-horizontal w-100">
      <div class="parchment-content">
        <div class="d-flex flex-row">
          <h2>{{ c.characterName }}</h2>
          <span> {{ c.characterClass }}</span>
          <span> {{ c.characterSpecies }}</span>
          <span> {{ c.characterBackground }} </span>
        </div>
        <!--ability scores-->
        <div class="ability-scores d-flex flex-row flex-wrap">
          @if (c.abilityScores){ @let abilityScoresList =
          this.characterSheetService.getAbilityScores(c); @for (a of
          abilityScoresList; track $index){
          <div class="ability-score-box d-flex flex-column">
            <strong class="ability-score-name">{{
              abilityScoresList[$index][0]
            }}</strong>
            <p class="ability-score-value">
              {{ abilityScoresList[$index][1] }}
            </p>
          </div>
          }}
        </div>
        <div class="character-description">
          @if (c.characterDescription){
          <div class="character-description-box">
            <strong class="character-description-header"
              >Personality Traits</strong
            >
            <p class="character-description-text">
              {{ c.characterDescription.personalityTraits }}
            </p>
          </div>
          <div class="character-description-box">
            <strong class="character-description-header">Ideals</strong>
            <p class="character-description-text">
              {{ c.characterDescription.ideals }}
            </p>
          </div>
          <div class="character-description-box">
            <strong class="character-description-header">Bonds</strong>
            <p class="character-description-text">
              {{ c.characterDescription.bonds }}
            </p>
          </div>
          <div class="character-description-box">
            <strong class="character-description-header">Flaws</strong>
            <p class="character-description-text">
              {{ c.characterDescription.flaws }}
            </p>
          </div>
          }
        </div>
        <div>
          <button [routerLink]="['/edit-character', c.id]">Edit</button>
          <button (click)="deleteCharacter(c.id, c.characterName)">
            Delete
          </button>
        </div>
      </div>
    </div>
    }
  </section>
  }
  <!--infinite scroll, only load 5 at a time-->
</div>
